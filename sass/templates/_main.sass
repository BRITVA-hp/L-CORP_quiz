@mixin svgGlitch($name, $intensity, $fillColor, $background, $fillHighlight1, $fillHighlight2, $width, $height, $top, $left)

    $steps: $intensity

    // Ensure the @keyframes are generated at the root level
    @at-root
        // We need two different ones
        @for $i from 1 through 2
            @keyframes #{$name}-anim-#{$i}
                70%
                    opacity: 0
                @for $i from 22 through $steps
                    #{percentage($i*(1/$steps))}
                        clip: rect((random($height)-20)+px, $width+px, (random($height)+20)+px, 0)
                        opacity: 1

    svg
        position: absolute
        top: $top+px
        left: $left+px
        fill: $fillColor
        background: $background
        width: $width+px
        height: $height+px

    svg:nth-child(2),
    svg:nth-child(3)
        clip: rect(0, 0, 0, 0)

    svg:nth-child(2)
        fill: $fillHighlight1
        left: ($left - 2) + px
        animation: #{$name}-anim-1 2s infinite linear alternate-reverse
        opacity: 0

    svg:nth-child(3)
        fill: $fillHighlight2
        left: ($left + 2) + px
        animation: #{$name}-anim-2 3s infinite linear alternate-reverse
        opacity: 0

.example-four
    @include svgGlitch("example-four", 30, #CFFF04, #111111, #08E2F0, #CFFF04, 316, 60, 0, 0)